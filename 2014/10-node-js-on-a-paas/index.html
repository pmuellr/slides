<!DOCTYPE html>
<html>
  <head>
    <title>node.js on a PaaS</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="icon"       href="../../images/js.png">
    <link rel="stylesheet" href="remark-custom.css">
  </head>
  <body>
    <textarea id="source" cols="100" rows="40" style="display: none;">

# node.js on a PaaS

### the awesome and the wonky

&nbsp;

Patrick Mueller
-
[`@pmuellr`](https://twitter.com/pmuellr)
-
[`muellerware.org`](http://muellerware.org)

developer advocate for IBM's [Bluemix](http://bluemix.net) PaaS

.smaller[.smaller[
<http://pmuellr.github.io/slides/2014/10-node-js-on-a-paas>
<br>
<http://pmuellr.github.io/slides/> (all slides)
]]

<div class="toolBar">
  <div class="navHelp" title="use the cursor keys to navigate, 'n' to toggle nav buttons, 's' to toggle control panel">
    <img class="button-1st"  height=16 src="../../glyphicons_free/glyphicons/png/glyphicons_171_fast_backward.png">
    <img class="button-prev" height=16 src="../../glyphicons_free/glyphicons/png/glyphicons_172_rewind.png">
    <img class="button-next" height=16 src="../../glyphicons_free/glyphicons/png/glyphicons_176_forward.png">
  </div>
  <div>&nbsp;&nbsp;</div>
  <div class="controlPanel" title="'s' to toggle control panel">
    <img class="button-clicker" height=16 src="../../glyphicons_free/glyphicons/png/glyphicons_046_router.png"   title="use clicker">
    <img class="button-hd"      height=16 src="../../glyphicons_free/glyphicons/png/glyphicons_391_video_hd.png" title="toggle HD">
  </div>
</div>

---

layout: true

<div class="page-icon">
<span class="smaller"><span class="smaller">
<tt>node.js on a PaaS</tt>
</span></span>
<!--
  <img height=24 src="../../glyphicons_free/glyphicons/png/glyphicons_046_router.png">
  &nbsp;
  <img height=24 src="../../images/js.png">
  &nbsp;
-->
</div>

{{content}}

<div class="toolBar">
  <div class="navHelp" title="use the cursor keys to navigate, 'n' to toggle nav buttons, 's' to toggle control panel">
    <img class="button-1st"  height=16 src="../../glyphicons_free/glyphicons/png/glyphicons_171_fast_backward.png">
    <img class="button-prev" height=16 src="../../glyphicons_free/glyphicons/png/glyphicons_172_rewind.png">
    <img class="button-next" height=16 src="../../glyphicons_free/glyphicons/png/glyphicons_176_forward.png">
  </div>
  <div>&nbsp;&nbsp;</div>
  <div class="controlPanel" title="'s' to toggle control panel">
    <img class="button-clicker" height=16 src="../../glyphicons_free/glyphicons/png/glyphicons_046_router.png"   title="use clicker">
    <img class="button-hd"      height=16 src="../../glyphicons_free/glyphicons/png/glyphicons_391_video_hd.png" title="toggle HD">
  </div>
</div>

---

### wat

* you know what node.js is

* what is a PaaS?

* Platform as a Service

  * [Heroku](https://www.heroku.com/home)
  * [Nodejitsu](https://www.nodejitsu.com/)
  * [Cloud Foundry](http://cloudfoundry.org/index.html)
  * [OpenShift](https://developers.openshift.com/)
  * [many](http://seroter.wordpress.com/2013/07/29/where-the-heck-do-i-host-my-node-js-app/)
    [more!](https://github.com/joyent/node/wiki/node-hosting#managed)

---

### PaaS fundamentals

* you provide the application

* OS provided for you (Linux)

* configure:
  * hosted services
  * number of instances running
  * RAM per instance
  * ephemeral disk per instance
  * ...

---

### PaaS usage scenarios

* special focus on web servers, typically with:

  * HTTPS support
  * custom domains
  * WebSocket support

* or anything - arbitrary compute


---

### let's deploy an app to Cloud Foundry

```
$ git clone https://hub.jazz.net/git/pmuellr/bluemix-hello-node
$ cd bluemix-hello-node
$ cf push

Using manifest file .../manifest.yml
...
Installing IBM SDK for Node.js from admin cache
...
Installing dependencies
...
Uploading droplet (8.0M)
...
App started
...
urls: bluemix-hello-node-pjm.mybluemix.net

$
```

---

### dunno

---

### dunno

---

### dunno

---

# the wonky

### and how to de-wonk-ify

---

### debugging

node-inspector difficult to run

* wants two ports open
* PaaS typically provides one

&#x279C;

use a proxy splitter

* [cf-node-debug](https://www.npmjs.org/package/cf-node-debug)

---

### diagnosing startup problems

* app runs fine on your laptop
* fails when run on PaaS

&#x279C;

* most errors here are in startup
* add LOTS of logging / run in verbose mode

---

### private packages

if the PaaS runs `npm install` for you, how do can you access private packages

&#x279C;

* manage them separately from the rest of your packages
* see [pmuellr/bluemix-private-packages](https://github.com/pmuellr/bluemix-private-packages)
  for an example project structure

---

### dunno

---

### dunno


---

class: center, middle

# `fin`


    </textarea>
    <script src="../../remark/0.6.4/remark.min.js"></script>
    <script src="../../lib/jquery/2.1.1/jquery.min.js"></script>
    <script src="snippets.js"></script>
    <script src="remark-custom.js"></script>
  </body>
</html>
