<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>/Users/pmuellr/Projects/slides/2015/11-debuggable-javascript/demos/profile-inline.js</title>
<link rel="stylesheet" type="text/css" href="highlight.css">
</head>
<body class="hl">
<pre class="hl"><span class="hl str">'use strict'</span>

<span class="hl kwa">const</span> fs <span class="hl opt">=</span> <span class="hl kwd">require</span><span class="hl opt">(</span><span class="hl str">'fs'</span><span class="hl opt">)</span>
<span class="hl kwa">const</span> path <span class="hl opt">=</span> <span class="hl kwd">require</span><span class="hl opt">(</span><span class="hl str">'path'</span><span class="hl opt">)</span>

<span class="hl kwa">const</span> PROGRAM <span class="hl opt">=</span> path<span class="hl opt">.</span><span class="hl kwd">basename</span><span class="hl opt">(</span>__filename<span class="hl opt">)</span>
process<span class="hl opt">.</span>title <span class="hl opt">=</span> PROGRAM

<span class="hl kwd">log</span><span class="hl opt">(</span><span class="hl str">'starting'</span><span class="hl opt">)</span>

<span class="hl kwd">setInterval</span><span class="hl opt">(</span>a<span class="hl opt">,</span> <span class="hl num">50</span><span class="hl opt">)</span>

<span class="hl slc">//------------------------------------------------------------------------------</span>
<span class="hl kwa">const</span> COUNT <span class="hl opt">=</span> <span class="hl num">2</span>

<span class="hl kwa">function</span> <span class="hl kwd">a</span><span class="hl opt">() {</span> <span class="hl kwa">for</span> <span class="hl opt">(</span><span class="hl kwa">let</span> i<span class="hl opt">=</span><span class="hl num">0</span><span class="hl opt">;</span> i<span class="hl opt">&lt;</span>COUNT<span class="hl opt">;</span> i<span class="hl opt">++) {</span> <span class="hl kwd">b</span><span class="hl opt">() } }</span>
<span class="hl kwa">function</span> <span class="hl kwd">b</span><span class="hl opt">() {</span> <span class="hl kwa">for</span> <span class="hl opt">(</span><span class="hl kwa">let</span> i<span class="hl opt">=</span><span class="hl num">0</span><span class="hl opt">;</span> i<span class="hl opt">&lt;</span>COUNT<span class="hl opt">;</span> i<span class="hl opt">++) {</span> <span class="hl kwd">c</span><span class="hl opt">() } }</span>
<span class="hl kwa">function</span> <span class="hl kwd">c</span><span class="hl opt">() {</span> <span class="hl kwa">for</span> <span class="hl opt">(</span><span class="hl kwa">let</span> i<span class="hl opt">=</span><span class="hl num">0</span><span class="hl opt">;</span> i<span class="hl opt">&lt;</span>COUNT<span class="hl opt">;</span> i<span class="hl opt">++) {</span> <span class="hl kwd">d</span><span class="hl opt">() } }</span>
<span class="hl kwa">function</span> <span class="hl kwd">d</span><span class="hl opt">() {</span> <span class="hl kwa">for</span> <span class="hl opt">(</span><span class="hl kwa">let</span> i<span class="hl opt">=</span><span class="hl num">0</span><span class="hl opt">;</span> i<span class="hl opt">&lt;</span>COUNT<span class="hl opt">;</span> i<span class="hl opt">++) {</span> <span class="hl kwd">e</span><span class="hl opt">() } }</span>
<span class="hl kwa">function</span> <span class="hl kwd">e</span><span class="hl opt">() {</span> <span class="hl kwa">for</span> <span class="hl opt">(</span><span class="hl kwa">let</span> i<span class="hl opt">=</span><span class="hl num">0</span><span class="hl opt">;</span> i<span class="hl opt">&lt;</span>COUNT<span class="hl opt">;</span> i<span class="hl opt">++) {</span> <span class="hl kwd">f</span><span class="hl opt">() } }</span>

<span class="hl kwa">function</span> <span class="hl kwd">f</span><span class="hl opt">() {</span>
  fs<span class="hl opt">.</span><span class="hl kwd">readFileSync</span><span class="hl opt">(</span>__filename<span class="hl opt">,</span> <span class="hl str">'utf8'</span><span class="hl opt">)</span>
<span class="hl opt">}</span>

<span class="hl slc">//------------------------------------------------------------------------------</span>
<span class="hl kwa">function</span> <span class="hl kwd">log</span><span class="hl opt">(</span>message<span class="hl opt">) {</span>
  console<span class="hl opt">.</span><span class="hl kwd">log</span><span class="hl opt">(`${</span>PROGRAM<span class="hl opt">}: ${</span>message<span class="hl opt">}`)</span>
<span class="hl opt">}</span>
</pre>
</body>
</html>
<!--HTML generated by highlight 3.23, http://www.andre-simon.de/-->
